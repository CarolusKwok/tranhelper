library(devtools)
use_r("find_twidth")
library(tranhelper)
find_twidth()
find_twidth()
library(tranhelper)
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
#' @param T_num Number of transects in a group
#' @param S_num Number of sites
#' @param S_Wid Width of each site (in m)
#' @param S_Len Length of each site (in m)
#' @param S_Bor Border of each site (in m)
#'
#' @return
#' @export
#'
#' @examples find_twidth()
find_twidth = function(Shape = "rec", T_Len = 60, T_num = 2, S_num = 18, S_Wid = 2, S_Len = 2, S_Bor = 5){
#test if a transect can insert that many sites
S_num_max = floor((T_Len/(S_Len + S_Bor))+1) * T_num
message("You can only have ", S_num_max, "sites in 1 transect group.")
}
remove(find_twidth)
library(tranhelper)
find_twidth()
#' @param T_num Number of transects in a group
#' @param S_num Number of sites
#' @param S_Wid Width of each site (in m)
#' @param S_Len Length of each site (in m)
#' @param S_Bor Border of each site (in m)
#'
#' @return
#' @export
#'
#' @examples find_twidth()
find_twidth = function(Shape = "rec", T_Len = 60, T_num = 2, S_num = 18, S_Wid = 2, S_Len = 2, S_Bor = 5){
#test if a transect can insert that many sites
S_num_max = floor((T_Len/(S_Len + S_Bor))+1) * T_num
message("You can only have ", S_num_max, " sites in 1 transect group.")
}
library(tranhelper)
library(tranhelper)
find_twidth()
find_twidth()
library(tranhelper)
find_twidth()
find_twidth(S_num = 20)
find_twidth(S_num = 90)
find_twidth(S_num = 10)
library(tranhelper)
find_twidth(S_num = 10)
library(tranhelper)
find_twidth(S_num = 10)
library(tranhelper)
find_twidth(S_num = 10)
find_twidth(S_num = 40)
find_twidth()
#' @param T_num Number of transects in a group
#' @param S_num Number of sites
#' @param S_Wid Width of each site (in m)
#' @param S_Len Length of each site (in m)
#' @param S_Bor Border of each site (in m)
#'
#' @return
#' @export
#'
#' @examples find_twidth()
find_twidth = function(Shape = "rec", T_Len = 60, T_num = 2, S_num = 18, S_Wid = 2, S_Len = 2, S_Bor = 5){
#test if a transect can insert that many sites
S_num_max = floor((T_Len/(S_Len + S_Bor))+1) * T_num
message("You can only have ", S_num_max, " sites in 1 transect group.")
if(S_num_max < S_num){
message("The input is not possible!")
return("---Calculation Failed---")
}
df = data.frame(S_num = 1:S_num,
T_num = 1:T_num)
df$S_y = (T_Len / (S_num-1)) * (df$S_num-1)
df$S_x[1] = 0
}
library(tranhelper)
library(tranhelper)
find_twidth()
library(tranhelper)
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
find_twidth(S_Wid = 0)
find_twidth(S_Wid = 1)
find_twidth(S_Wid = 2)
find_twidth(S_Wid = 333)
library(tranhelper)
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
find_twidth()
library(tranhelper)
library(tranhelper)
find_twidth()
sqrt(2)
library(tranhelper)
find_twidth()
find_twidth()
library(tranhelper)
library(tranhelper)
find_twidth()
mean(1, 1, 2)
mean(1, 1, 3)
mean(c(1, 1, 3))
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
find_twidth(S_Wid = 0)
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
find_twidth()
library(tranhelper)
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
find_twidth()
find_twidth()
library(tranhelper)
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
library(tranhelper)
find_twidth()
find_twidth(T_Num = 4)
find_twidth(T_num = 4)
seq(1,18, 1)
seq(1,4, 1)
seq(1,4, 1)
seq(1,18, 4)
seq(1,4)
library(tranhelper)
find_twidth(T_num = 4)
library(tranhelper)
library(tranhelper)
find_twidth(T_num = 4)
find_twidth(T_num = 4)
5%%3
library(tranhelper)
find_twidth(T_num = 4)
library(tranhelper)
find_twidth(T_num = 4)
library(tranhelper)
find_twidth(T_num = 4)
library(tranhelper)
find_twidth(T_num = 4)
library(tranhelper)
find_twidth(T_num = 4)
library(tranhelper)
find_twidth(T_num = 4)
library(tranhelper)
library(tranhelper)
find_twidth(T_num = 4)
find_twidth()
find_twidth()
library(tranhelper)
find_twidth()
message("Results are as follows ---")
library(tranhelper)
find_twidth()
df = find_twidth()
library(tranhelper)
library(tranhelper)
df = find_twidth()
View(df)
df = find_twidth(T_num = 4)
View(df)
library(devtools)
use_r("vic_finddis")
c(1, 2)[1]
c(1, 2)[2]
c("a", 2)[2]
c("a", 2)[1]
radians(1)
deg2rad(2)
rad2deg(111)
use_r("deg2rad")
deg2rad(1)
library(tranhelper)
vic_finddis((10, 10), (20, 20))
vic_finddis(c(10, 10), c(20, 20))
pi()
pi
library(tranhelper)
vic_finddis(c(10, 10), c(20, 20))
library(tranhelper)
vic_finddis(c(10, 10), c(20, 20))
vic_finddis(c(10, 10), c(20, 20))
library(tranhelper)
1541856.434
1541856.434
vic_finddis(c(20, 10), c(20, 10))
vic_finddis(c(20, 10), c(20, 10))
vic_finddis(c(20, 10), c(20, 10))
vic_finddis(c(20, 10), c(10, 10))
vic_finddis(c(20, 10), c(20, 10))
vic_finddis(c(20, 10), c(20, 10))
library(tranhelper)
vic_finddis(c(20, 10), c(20, 10))
vic_finddis(c(20, 10), c(10, 10))
vic_finddis(c(20, 10), c(10, 10))
vic_finddis(c(20, 10), c(10, 10))
library(tranhelper)
vic_finddis(c(20, 10), c(10, 10))
vic_finddis(c(20, 10), c(10, 10))*10000
vic_finddis(c(20, 10), c(10, 10))*1000000000000
View(vic_finddis(c(20, 10), c(10, 10)))
vic_finddis(c(20, 10), c(10, 10))*1000
vic_finddis(c(20, 10), c(10, 10))*10000
vic_finddis(c(20, 10), c(10, 10))*1000000
vic_finddis(c(20, 10), c(10, 10))*100000
library(tranhelper)
rnorm(4)
vic_finddis(c(50, 6), c(38, 45))
vic_finddis(c(50, 6), c(38, 45))*10000
?vic_finddis
?vic_finddis
vic_finddis(c(-50, 6), c(38, 45))*10000
vic_finddis(c(-50, 6), c(38, 45))
vic_finddis(c(48, 56), c(89, 64))
library(tranhelper)
vic_finddis(c(10, 10), c(20, 20))
library(devtools)
use_r("rad2deg")
library(tranhelper)
rad2deg(pi)
rad2deg(pi())
library(tranhelper)
library(tranhelper)
rad2deg(pi())
rad2deg(pi
hi
rad2deg(pi)
library(tranhelper)
vic_finddis(c(10, 10), c(20, 20))
library(tranhelper)
vic_finddis(c(10, 10), c(20, 20))
vic_finddis(c(10, 10), c(20, 20))
library(tranhelper)
vic_finddis(c(10, 10), c(20, 20))
library(tranhelper)
library(tranhelper)
vic_finddis(c(10, 10), c(20, 20))[1]
vic_finddis(c(10, 10), c(20, 20))[2]
vic_finddis(c(10, 10), c(20, 20))[3]
vic_finddis(c(10, 10), c(20, 20))[1,3]
vic_finddis(c(10, 10), c(20, 20))[3,1]
vic_finddis(c(10, 10), c(20, 20))[3]
vic_finddis(c(10, 10), c(20, 20))[1]
vic_finddis(c(10, 10), c(20, 20))[2]
library(devtools)
use_r("vic_findloc")
math.tan(1)
library(tidyverse)
library(openxlsx)
DIR = choose.files()
absolute(-1)
abs(-1)
library(tranhelper)
vic_finddis(c(10,10), 30, 18000)
library(tranhelper)
vic_finddis(c(10,10), 30, 18000)
library(tranhelper)
vic_finddis(c(10,10), 30, 18000)
library(tranhelper)
abs(1-2)
library(tranhelper)
vic_finddis(c(10,10), 30, 18000)
vic_finddis(c(10,10), 30, 18000)
library(tranhelper)
library(tranhelper)
vic_finddis(c(10,10), 30, 18000)
vic_finddis(c(10,10), 30, 0)
vic_finddis(c(10,10), 30, 18000)
vic_finddis(c(10,10), 30, 0)
vic_finddis(c(10,10), 30, -10000)
vic_finddis(c(10,10), 30, 100000)
vic_finddis(c(10,20), 30, 100000)
vic_finddis(c(10,20), 30, 9999999999)
vic_finddis(c(10,20), 30, -9999999999)
library(tranhelper)
library(tranhelper)
vic_finddis(c(10,20), 30, -9999999999)
vic_finddis(c(10,20), 30, -9999999999)
vic_finddis(c(10,20), 30, -9999999999)
library(tranhelper)
library(devtools)
use_r("vic_findloc")
library(tranhelper)
vic_findloc2()
library(tranhelper)
vic_finddis2(c(10,10), 9999, 999999)
vic_findloc2(c(10,10), 9999, 999999)
vic_findloc2(c(10,10), 9999, -999999)
vic_findloc2(c(25,34), 9999, -999999)
vic_findloc2(c(25,34), -9999, -999999)
library(tranhelper)
vic_findloc2(c(25,34), -9999, -999999)
vic_findloc2(c(25,34), -9999, -999999)
vic_findloc2(c(25,34), -9999, -999999)
vic_findloc2(c(999,34), -9999, -999999)
use_r("dec2dms")
library(tranhelper)
dec2dms(999)
library(tranhelper)
vic_finddis(c(1000000000000000,21094821009218104), c(1412194721987492174, 21498721498174987219847982174214979217492179472104792174))
vic_finddis(c(1000000000000000,21094821009218104), c(1412194721987492174, 21498721498174987219847982))
vic_finddis(c(1000000000000000,21094821009218104), c(1412194721, 21498721))
vic_finddis(p1 = c(1000000000000000,21094821009218104), p2 = c(1412194721, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(1412194721, 21498721))
library(tranhelper)
vic_finddis(c(1000000000000000,21094821009218104), c(1412194721987492174, 21498721498174987219847982174214979217492179472104792174))
vic_finddis(c(1000000000000000,21094821009218104), c(1412194721987492174, 21498721498174987219847982174214979217492179472104792174))
vic_finddis(c(1000000000000000,21094821009218104), c(14121947219874921748214798214972194921749721947921947219479217490724, 2149872149817498721984798217421497921749217947210484141040821840821480218482148218408409214792174))
vic_finddis(c(1000000000000000,21094821009218104), c(14121947219874921748214798214972194921749721947921947219479217490724, 2149872149817498721984798217421497921749217947210484141040821840821480218482148218408409214792174))
vic_finddis(c(1000000000000000,21094821009218104), c(14121947219874921748214798214972194921749721947921947219479217490724, 2149872149817498721984798217421497921749217947210484141040821840821480218482148218408409287219417414721997472142972197472194721942114792174))
vic_finddis(c(1000000000000000,21094821009218104), c(1412194721987492174, 21498721498174987219847982174214979217492179472104792174))
vic_finddis(p1 = c(1000,210), p2 = c(1412194721, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(141219474821784982174921, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(14121947482178498217492198472142149721492147, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(1412194748217849821749219847214214972149219872194214987421742194721749217421047, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(1412194748217849821749219847214214972149219872194214987421742194721749217421047, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(1412194748217849821749219847214214972149219872194214987421742194721749217421047, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(1412194748217849821749219847214214972149219872194214987421742194721749217421047, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(1412194748217849821749219847214214972149219872194214987421742194721749345678903456734567234567234567217421047, 21498721))
vic_finddis(p1 = c(1000,210), p2 = c(141219474821784982174921984721421497214921987219421498742174219472174934567890345673456723456764876214862142142164214862184621876482168468216846218648214234567217421047, 21498721))
library(tranhelper)
library(tranhelper)
library(tranhelper)
df2 = df
vic_findloc(c(10, 10), 10, 10)[1]
vic_findloc(c(10, 10), 10, 10)[2]
library(tranhelper)
library(ggplot2)
df = find_twidth()
library(tranhelper)
vic_finddis(c(10, 10), c(10, 20))
library(tranhelper)
vic_finddis(c(10, 10), c(10, 20))
library(tranhelper)
vic_finddis(c(10, 10), c(10, 20))
vic_finddis(c(10, 10), c(10, 20))
library(tranhelper)
library(tranhelper)
vic_finddis(c(10, 10), c(10, 20))
library(tranhelper)
usethis::use_r("find_loc")
find_loc = function(df, SP = NA, BRNG = NA, EP = NA){
#SP = c(lat, lon)
if(is.na(BRNG)){
if(!is.na(EP[1]) & !is.na(EP[2])){
BRNG = vic_finddis(p1 = SP, p2 = EP)[2]
}
}
df = df %>%
mutate(S_x = as.numeric(S_x), S_y = as.numeric(S_y))
Min_x = min(df$S_x)
Max_x = max(df$S_x)
L_x = abs(Min_x - Max_x)
df = df %>%
mutate(Type = "Site") %>%
relocate(Type, .before = S_num) %>%
mutate(S_x = S_x - L_x/2) %>%
mutate(S_dis = sqrt((S_y)^2 + (S_x)^2),
S_ang = rad2deg(atan(abs(S_y)/abs(S_x))),
S_lon = 0,
S_lat = 0) %>%
mutate(S_ang = ifelse(S_x < 0, S_ang + 270, ifelse(S_x > 0, 90 - S_ang, ifelse(S_x == 0, 90, NA)))) %>%
mutate(S_ang = S_ang + BRNG)
for(i in 1:nrow(df)){
df$S_lat[i] = suppressWarnings(vic_findloc(SP, df$S_ang[i], df$S_dis[i]))[1]
df$S_lon[i] = suppressWarnings(vic_findloc(SP, df$S_ang[i], df$S_dis[i]))[2]
}
Min_y = min(df$S_y)
Max_y = max(df$S_y)
L_y = ifelse(abs(Min_y) > abs(Max_y), Min_y, Max_y)
TInfo = data.frame(Type   = c("Ref-SP", "Ref-EP"),
S_num  = c("SP" ,     "EP"),
T_num  = c(  NA ,       NA),
T_pair = c(  NA ,       NA),
S_y    = c(   0 ,      L_y),
S_x    = c(   0 ,        0),
S_dis  = c(  NA , abs(L_y)),
S_ang  = c(  NA ,     BRNG)) %>%
mutate(S_lon  = c(SP[2], vic_findloc(SP, BRNG, L_y)[2]),
S_lat  = c(SP[1], vic_findloc(SP, BRNG, L_y)[1]),
S_num = as.factor(S_num))
df = df %>%
mutate(S_num = as.factor(S_num))
df = bind_rows(TInfo, df) %>%
relocate(S_lat, .before = S_lon) %>%
relocate(S_x, .before = S_y)
df
}
library(devtools)
use_r("trh_lib")
library(tranhelper)
use_package("ggplot2")
use_package(ggplot2)
library(devtools)
use_package(ggplot2)
use_package("ggplot2")
use_package("data.table")
use_package("lubridate")
use_package("svglite")
